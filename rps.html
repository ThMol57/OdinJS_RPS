<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>

    <body>
        <script>
            function getRandomInt(min, max) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            function capitalize(string) {
                string = string.toLowerCase();
                return string.charAt(0).toUpperCase() + string.slice(1)
            }

            function computerPlay() {
                const int = getRandomInt(1,3);
                
                if (int === 1) {
                    return ("Rock");
                }
                else if (int === 2) {
                    return ("Paper");
                }
                else if (int === 3) {
                    
                    return ("Scissors");
                }
            }   
        
            function playRound(playerSelection, computerSelection) {
                playerSelection = capitalize(playerSelection);
                computerSelection = capitalize(computerSelection);
                let result = {}
                switch (playerSelection){
                    
                    case "Rock":
                        break;
                    
                    case "Paper": 
                        break;
                    
                    case "Scissors":
                        break;
                    
                    default:
                        return
                }

                console.log(playerSelection, computerSelection);
                if (playerSelection == "Rock" && computerSelection == "Scissors") {
                    return result = {"Winner": "Player", "playerSelection": playerSelection, "computerSelection": computerSelection}
                }
                else if (playerSelection == "Paper" && computerSelection == "Rock") {
                    return result = {"Winner": "Player", "playerSelection": playerSelection, "computerSelection": computerSelection}
                }
                else if (playerSelection == "Scissors" && computerSelection == "Paper") {
                    return result = {"Winner": "Player", "playerSelection": playerSelection, "computerSelection": computerSelection}
                }
                else if (playerSelection == computerSelection) {
                    return result = {"Winner": "Both", "playerSelection": playerSelection, "computerSelection": computerSelection}
                }
                else {
                    return result = {"Winner": "Computer", "playerSelection": playerSelection, "computerSelection": computerSelection}
                }
            }

            
            
            function game() {
                let p_score = 0;
                let pc_score = 0;

                
                while(p_score <= 5 || pc_score <= 5) {
                    player = prompt("Rock, paper or scissors?");
                    result = playRound(player, computerPlay());
                    if (result == null) {
                        console.log("Wrong input, try again");
                    }
                    else if (result["Winner"] === "Player") {

                        p_score += 1;
                        console.log(`You Win! ${result["playerSelection"]} beat ${result["computerSelection"]}`)
                    }
                    else if (result["Winner"] === "Computer") {

                        pc_score += 1;
                        console.log(`You Lost! ${result["computerSelection"]} beat ${result["playerSelection"]}`)
                    }
                    else if (result["Winner"] === "Both") {

                        console.log(`Tie! Both choose ${result["computerSelection"]}`)
                    }
                    
                    alert(`Player Score: ${p_score} `);
                    alert(`Computer Score: ${pc_score} `); 
                }
            }

            
            game()
        </script>
    </body>
</html>